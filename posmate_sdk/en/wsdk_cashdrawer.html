<!DOCTYPE HTML>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../sdk.css" />
<link rel="stylesheet" href="../styles/foundation.css" />
<script src="../highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<ul id='main'>
	<li><div class='title'>Introduction</div>
		We can open the cash drawer by writing GPIO. First, we output high to GPIO on the cash drawer, and second, wait for about 200 milliseconds, output low to GPIO.<br/>
		&nbsp;<br/>
	</li>
	<li><div class='title'>Example</div>
		<pre><code class='c'>#include "posmate.h"
#include "config.h"

//Example of cash drawer --
//This demo shows how to open cash draw by GPIO

int mainCashDrawer(int deviceMask, int argc, char **argv) {
    Device *device = deviceNew();
    deviceDetect(device, deviceMask);
    if (deviceGetRawDevice(device) != NULL) {
        
        //Set GPIO to output mode
        gpioSetMode(device, CONFIG_CASHDRAWER_GPIO, GPIOMode_Output, 0);

        //Drive GPIO to open cash drawer
        gpioOutput(device, CONFIG_CASHDRAWER_GPIO, 1);
        xsleep(200);
        gpioOutput(device, CONFIG_CASHDRAWER_GPIO, 0);
    }
    deviceFree(device);
    return 0;
}</code></pre>
	</li>
</ul>
</body>
</html>
